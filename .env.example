# Configuration de l'environnement SOS Fiche de Paie
# Copiez ce fichier en .env et remplissez les valeurs

# ========================================
# DATABASE - Neon PostgreSQL
# ========================================
# URL de connexion à la base de données Neon (pooled connection)
# Format: postgresql://username:password@host/database?sslmode=require
# Obtenez-la sur: https://console.neon.tech/ > votre projet > Connection Details
DATABASE_URL="postgresql://user:password@host.neon.tech/dbname?sslmode=require"

# Direct URL pour les migrations Prisma (connection pooler)
# Utilisez le "Direct connection string" depuis Neon Dashboard
DIRECT_URL="postgresql://user:password@host.neon.tech/dbname?sslmode=require"

# ========================================
# ANTHROPIC API - Claude AI
# ========================================
# Clé API Claude (Anthropic)
# Obtenez-la sur: https://console.anthropic.com/ > Settings > API Keys
ANTHROPIC_API_KEY="sk-ant-api03-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# ========================================
# STRIPE - Paiements
# ========================================
# Clé secrète Stripe (mode test: sk_test_, mode prod: sk_live_)
# Obtenez-la sur: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY="sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Clé publique Stripe (côté client)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Webhook secret pour les événements Stripe
# Obtenez-le après avoir configuré le webhook sur Stripe Dashboard
STRIPE_WEBHOOK_SECRET="whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# IDs des prix Stripe pour les abonnements (créer sur Stripe Dashboard)
STRIPE_PRICE_ID_GRATUIT="price_xxxxxxxxxxxxxxxxxxxxx"
STRIPE_PRICE_ID_PARTICULIER="price_xxxxxxxxxxxxxxxxxxxxx"
STRIPE_PRICE_ID_PROFESSIONNEL="price_xxxxxxxxxxxxxxxxxxxxx"

# ========================================
# VERCEL BLOB - Stockage des fichiers
# ========================================
# Token d'accès Vercel Blob (généré automatiquement par Vercel)
# Ajoutez un Blob Store dans: Vercel Dashboard > Project Settings > Storage
BLOB_READ_WRITE_TOKEN="vercel_blob_rw_xxxxxxxxxxxxxxxxxxxxx"

# ========================================
# EMAIL - Resend
# ========================================
# Clé API Resend pour l'envoi d'emails
# Obtenez-la sur: https://resend.com/api-keys
RESEND_API_KEY="re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Email expéditeur vérifié (vérifier le domaine sur Resend)
EMAIL_FROM="contact@sos-fiche-de-paie.fr"

# ========================================
# UPSTASH REDIS - Rate Limiting
# ========================================
# URL Redis Upstash pour le rate limiting (OBLIGATOIRE en production)
# Obtenez-la sur: https://console.upstash.com/ > votre database > REST API
UPSTASH_REDIS_REST_URL="https://xxxxx.upstash.io"
UPSTASH_REDIS_REST_TOKEN="AxxxXXXxxxxxxxxxxxxxxxxxxxxxxxxx"

# ========================================
# SÉCURITÉ
# ========================================
# Clé secrète pour le chiffrement des données sensibles (32 caractères minimum)
# Générez-la avec: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY="votre_cle_secrete_de_32_caracteres_minimum_ici"

# Secret pour JWT / sessions (si authentification custom)
JWT_SECRET="votre_secret_jwt_aleatoire_securise"

# Secret pour les CRON jobs Vercel (sécurité)
CRON_SECRET="votre_secret_cron_aleatoire"

# ========================================
# APPLICATION
# ========================================
# URL de base de l'application
NEXT_PUBLIC_APP_URL="http://localhost:3000"
# En production: NEXT_PUBLIC_APP_URL="https://sos-fiche-de-paie.fr"

# Environnement (development, production)
NODE_ENV="development"

# Durée de rétention des fichiers en jours (RGPD)
FILE_RETENTION_DAYS=30

# Limite de taille des fichiers uploadés (en MB)
MAX_FILE_SIZE_MB=10
